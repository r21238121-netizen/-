# Futures Scout - Локальный ИИ-ассистент для фьючерсной торговли

## Описание проекта

Futures Scout - это локальный десктопный терминал для Windows, позволяющий подключаться к бирже BingX через API и использовать встроенный ИИ-модуль для анализа монет и получения точек входа в реальном времени.

## Особенности

- Подключение к бирже BingX через API для реальной и демонстрационной торговли
- Анализ монет с помощью встроенного ИИ-модуля
- Получение точек входа в реальном времени
- Работа в реальном режиме (с исполнением ордеров) или демо-режиме (только анализ и симуляция)
- Автоматическое обучение ИИ на основе результатов сделок (успех/неудача)
- Безопасное хранение API-ключей с шифрованием
- Простой интерфейс, подходящий даже для новичков
- Полная поддержка всех 34+ эндпоинтов BingX API
- Комплексный анализ позиций, баланса, PnL и истории доходов
- Расширенные функции управления рисками и торговыми параметрами

## Поддерживаемые эндпоинты BingX API

Проект полностью реализует все основные категории эндпоинтов BingX:

### Аккаунт и баланс
- `/openApi/swap/v3/user/balance` - Баланс аккаунта
- `/openApi/swap/v2/user/account` - Информация о счёте
- `/openApi/swap/v2/user/positions` - Текущие позиции
- `/openApi/swap/v2/user/income` - История прибыли/убытков
- `/openApi/swap/v2/user/commissionRate` - Комиссии

### Торговые операции
- `/openApi/swap/v2/trade/order` - Размещение ордеров
- `/openApi/swap/v2/trade/order/test` - Тестирование ордеров
- `/openApi/swap/v2/trade/closePosition` - Закрытие позиций
- `/openApi/swap/v2/trade/closeAllPositions` - Закрытие всех позиций
- `/openApi/swap/v2/trade/batchOrders` - Массовое создание ордеров

### Управление позициями
- `/openApi/swap/v2/trade/leverage` - Установка плеча
- `/openApi/swap/v2/trade/marginType` - Режим маржи
- `/openApi/swap/v2/position/setTPSL` - Take Profit / Stop Loss

### Рыночные данные
- `/openApi/swap/v1/ticker/price` - Текущие цены
- `/openApi/swap/v1/depthKlines` - Исторические данные (свечи)
- `/openApi/swap/v2/quote/contracts` - Информация о контрактах
- `/openApi/quote/v1/ticker/fundingRate` - Ставки финансирования

### Расширенные функции
- Управление мульти-активами
- Двухсторонний режим позиций (hedge/one-way)
- Автоматическое добавление маржи
- Изменение и отмена ордеров
- Отслеживание принудительных ордеров (ликвидации)

## Архитектура

- **Язык**: Python 3.10+
- **GUI**: PyQt6
- **График**: Lightweight Charts (встроенный через QWebEngineView)
- **Хранение данных**: локальные JSON/SQLite
- **Безопасность**: API-ключи шифруются через cryptography.fernet
- **Обработка ошибок**: Комплексная валидация и обработка исключений
- **Демо-режим**: Полнофункциональная симуляция с реалистичными данными

## Установка и запуск

1. Установите зависимости:
```bash
pip install -r requirements.txt
```

2. Запустите приложение:
```bash
python src/main.py
```

## Структура проекта

```
/workspace/
├── requirements.txt          # Зависимости
├── README.md               # Документация
├── BINGX_API_ENDPOINTS.md  # Полная документация по эндпоинтам
├── example_usage.py        # Примеры использования всех функций
├── test_bingx_endpoints.py # Тестирование всех эндпоинтов
├── src/                    # Исходный код
│   ├── main.py             # Основной файл запуска
│   ├── api/                # Модули API
│   │   └── bingx_api.py    # Взаимодействие с API BingX
│   ├── gui/                # Графический интерфейс
│   │   ├── auth_window.py  # Окно аутентификации
│   │   └── main_window.py  # Основное окно
│   ├── models/             # Модели данных
│   │   └── ai_agent.py     # ИИ-агент
│   ├── ui/                 # Виджеты интерфейса
│   │   ├── chart_widget.py # Виджет графика
│   │   └── orderbook_widget.py # Виджет стакана
│   └── utils/              # Утилиты
│       └── config.py       # Управление конфигурацией
└── build.py                # Скрипт упаковки в .exe
```

## Режимы работы

### Режим входа (Auth Screen)
- Поля для ввода BingX API Key и Secret Key
- Валидация через тестовый запрос к API
- Ключи сохраняются локально в зашифрованном виде

### Демо-режим
- Доступен сразу при запуске
- Использует публичные API для получения данных
- Нет доступа к балансу и исполнению ордеров
- ИИ работает в режиме симуляции

## ИИ-модуль самообучения

ИИ-модуль автоматически улучшает точность прогнозов на основе реальных исходов сделок:
- Генерация сигналов с указанием вероятности успеха
- Отслеживание результатов сделок
- Периодическое переобучение модели на основе истории
- Сохранение версионности модели

## Безопасность

- При первом запуске показывается предупреждение о рисках
- API-ключи шифруются и хранятся локально
- Никакие данные не передаются в сеть, кроме запросов к BingX
- Поля ввода API-ключей маскируются
- Все API-запросы подписываются с использованием HMAC-SHA256

## Упаковка в .exe

Для упаковки приложения в исполняемый файл Windows:

```bash
python build.py
```

Результат будет находиться в папке `dist/FuturesScout`.

## Тестирование

Для тестирования всех эндпоинтов BingX API:
```bash
python test_bingx_endpoints.py
```

Для демонстрации всех функций API:
```bash
python example_usage.py
```

## Требования

- Python 3.10+
- Windows 10/11 (64-bit)

## Лицензия

Проект разработан для личного использования. Все права на торговую стратегию принадлежат автору.